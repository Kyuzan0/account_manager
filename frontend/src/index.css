@tailwind base;
@tailwind components;
@tailwind utilities;

@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap');

:root {
  /* Color System */
  --color-primary: 99 102 241;
  --color-secondary: 139 92 246;
  --color-accent: 236 72 153;
  
  /* Dark Theme Colors */
  --color-bg-primary: 15 23 42;
  --color-bg-secondary: 30 41 59;
  --color-bg-tertiary: 51 65 85;
  
  /* Text Colors */
  --color-text-primary: 241 245 249;
  --color-text-secondary: 203 213 225;
  --color-text-tertiary: 148 163 184;
  
  /* Status Colors */
  --color-success: 16 185 129;
  --color-warning: 245 158 11;
  --color-error: 239 68 68;
  --color-info: 59 130 246;
  
  /* Accessibility Theme Variables - These will be overridden by HighContrastThemes */
  --color-background: #FFFFFF;
  --color-foreground: #000000;
  --color-primary-theme: #3B82F6;
  --color-secondary-theme: #6B7280;
  --color-accent-theme: #8B5CF6;
  --color-error-theme: #EF4444;
  --color-success-theme: #10B981;
  --color-warning-theme: #F59E0B;
  
  /* Font Size Multiplier for Accessibility */
  --font-size-multiplier: 1;
  
  /* Animation Duration for Reduced Motion */
  --animation-duration: 300ms;
  
  /* Spacing Scale */
  --space-xs: 0.25rem;
  --space-sm: 0.5rem;
  --space-md: 1rem;
  --space-lg: 1.5rem;
  --space-xl: 2rem;
  --space-2xl: 3rem;
  
  /* Border Radius */
  --radius-sm: 0.25rem;
  --radius-md: 0.5rem;
  --radius-lg: 0.75rem;
  --radius-xl: 1rem;
  --radius-2xl: 1.5rem;
  
  /* Shadows */
  --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
  --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
  --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
  
  /* Transitions */
  --transition-fast: 150ms ease;
  --transition-normal: 300ms ease;
  --transition-slow: 500ms ease;
}

body {
  margin: 0;
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
    sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  background-color: rgb(var(--color-bg-primary));
  color: rgb(var(--color-text-primary));
  font-size: calc(16px * var(--font-size-multiplier));
}

code {
  font-family: 'Fira Code', 'SF Mono', Monaco, Inconsolata, 'Roboto Mono',
    'Source Code Pro', monospace;
}

/* Custom Components */
@layer components {
  .btn {
    @apply inline-flex items-center justify-center px-4 py-2 text-sm font-medium rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed;
  }
  
  .btn-primary {
    @apply bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500 shadow-sm;
  }
  
  .btn-secondary {
    @apply bg-dark-700 text-white hover:bg-dark-600 focus:ring-dark-500 border border-dark-600;
  }
  
  .btn-ghost {
    @apply text-dark-300 hover:text-white hover:bg-dark-800 focus:ring-dark-500;
  }
  
  .card {
    @apply bg-dark-800 rounded-xl shadow-medium border border-dark-700 transition-all duration-200;
  }
  
  .card-hover {
    @apply hover:shadow-strong hover:-translate-y-1;
  }
  
  .input {
    @apply w-full px-3 py-2 bg-dark-700 border border-dark-600 rounded-lg text-white placeholder-dark-400 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200;
  }
  
  .input-error {
    @apply border-red-500 focus:ring-red-500;
  }
  
  .badge {
    @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium;
  }
  
  .badge-primary {
    @apply bg-primary-100 text-primary-800;
  }
  
  .badge-success {
    @apply bg-green-100 text-green-800;
  }
  
  .badge-warning {
    @apply bg-yellow-100 text-yellow-800;
  }
  
  .badge-error {
    @apply bg-red-100 text-red-800;
  }
}

/* Utility Classes */
@layer utilities {
  .text-gradient {
    @apply bg-gradient-to-r from-primary-400 to-secondary-400 bg-clip-text text-transparent;
  }
  
  .bg-gradient-primary {
    @apply bg-gradient-to-r from-primary-500 to-secondary-500;
  }
  
  .bg-gradient-secondary {
    @apply bg-gradient-to-r from-secondary-500 to-accent-500;
  }
  
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
  
  .glass-effect {
    @apply bg-white/10 backdrop-blur-md border border-white/20;
  }
  
  .glass-morphism {
    @apply bg-white/5 backdrop-blur-xl border border-white/10;
  }
  
  .glass-morphism-dark {
    @apply bg-black/20 backdrop-blur-xl border border-white/10;
  }
  
  .gradient-border {
    @apply relative bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 p-0.5 rounded-2xl;
  }
  
  .gradient-border-inner {
    @apply bg-gray-900 rounded-2xl p-4;
  }
  
  .hover-lift {
    @apply transition-all duration-300 hover:-translate-y-1 hover:shadow-2xl;
  }
  
  .text-shadow {
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
  }
  
  .text-shadow-lg {
    text-shadow: 0 4px 8px rgba(0, 0, 0, 0.4);
  }
}

/* Animation Classes */
.fade-in {
  animation: fadeIn 0.5s ease-in-out;
}

.slide-up {
  animation: slideUp 0.3s ease-out;
}

.slide-down {
  animation: slideDown 0.3s ease-out;
}

.scale-in {
  animation: scaleIn 0.2s ease-out;
}

/* Focus Styles */
.focus-ring {
  @apply focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 focus:ring-offset-dark-900;
}

/* Loading States */
.loading-skeleton {
  @apply bg-gradient-to-r from-dark-700 via-dark-600 to-dark-700 bg-[length:200%_100%] animate-pulse;
}

/* Responsive Typography */
@media (max-width: 640px) {
  .text-responsive-xl {
    @apply text-2xl;
  }
  
  .text-responsive-2xl {
    @apply text-3xl;
  }
  
  .text-responsive-3xl {
    @apply text-4xl;
  }
}

/* Custom Scrollbar */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: rgb(var(--color-bg-secondary));
}

::-webkit-scrollbar-thumb {
  background: rgb(var(--color-bg-tertiary));
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgb(var(--color-text-tertiary));
}

/* Selection */
::selection {
  background-color: rgb(var(--color-primary) / 0.3);
  color: rgb(var(--color-text-primary));
}

/* Focus Visible */
.focus-visible:focus-visible {
  @apply ring-2 ring-primary-500 ring-offset-2 ring-offset-dark-900;
}

/* Reduced Motion */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* High Contrast Mode */
@media (prefers-contrast: high) {
  .card {
    @apply border-2 border-white;
  }
  
  .btn {
    @apply border-2 border-white;
  }
}

/* Accessibility Theme Support */
[data-theme="high-contrast"] {
  --color-bg-primary: 0 0 0;
  --color-bg-secondary: 0 0 0;
  --color-bg-tertiary: 0 0 0;
  --color-text-primary: 255 255 255;
  --color-text-secondary: 255 255 255;
  --color-text-tertiary: 255 255 255;
  --color-primary: 255 255 0;
  --color-secondary: 255 255 255;
  --color-accent: 255 0 255;
  --color-error: 255 0 0;
  --color-success: 0 255 0;
  --color-warning: 255 165 0;
}

[data-theme="dark-high-contrast"] {
  --color-bg-primary: 26 26 26;
  --color-bg-secondary: 26 26 26;
  --color-bg-tertiary: 26 26 26;
  --color-text-primary: 255 255 255;
  --color-text-secondary: 255 255 255;
  --color-text-tertiary: 255 255 255;
  --color-primary: 0 191 255;
  --color-secondary: 176 176 176;
  --color-accent: 255 105 180;
  --color-error: 255 107 107;
  --color-success: 78 205 196;
  --color-warning: 255 217 61;
}

[data-theme="light-high-contrast"] {
  --color-bg-primary: 255 255 255;
  --color-bg-secondary: 255 255 255;
  --color-bg-tertiary: 255 255 255;
  --color-text-primary: 0 0 0;
  --color-text-secondary: 0 0 0;
  --color-text-tertiary: 0 0 0;
  --color-primary: 0 0 255;
  --color-secondary: 51 51 51;
  --color-accent: 128 0 128;
  --color-error: 204 0 0;
  --color-success: 0 102 0;
  --color-warning: 204 102 0;
}

[data-theme="blue-yellow"] {
  --color-bg-primary: 255 255 255;
  --color-bg-secondary: 255 255 255;
  --color-bg-tertiary: 255 255 255;
  --color-text-primary: 0 0 0;
  --color-text-secondary: 0 0 0;
  --color-text-tertiary: 0 0 0;
  --color-primary: 0 102 204;
  --color-secondary: 102 102 102;
  --color-accent: 255 204 0;
  --color-error: 204 0 0;
  --color-success: 0 153 0;
  --color-warning: 255 102 0;
}

[data-theme="protanopia"] {
  --color-bg-primary: 255 255 255;
  --color-bg-secondary: 255 255 255;
  --color-bg-tertiary: 255 255 255;
  --color-text-primary: 0 0 0;
  --color-text-secondary: 0 0 0;
  --color-text-tertiary: 0 0 0;
  --color-primary: 0 102 204;
  --color-secondary: 102 102 102;
  --color-accent: 0 153 204;
  --color-error: 102 102 102;
  --color-success: 0 153 0;
  --color-warning: 255 102 0;
}

[data-theme="deuteranopia"] {
  --color-bg-primary: 255 255 255;
  --color-bg-secondary: 255 255 255;
  --color-bg-tertiary: 255 255 255;
  --color-text-primary: 0 0 0;
  --color-text-secondary: 0 0 0;
  --color-text-tertiary: 0 0 0;
  --color-primary: 0 102 204;
  --color-secondary: 102 102 102;
  --color-accent: 255 102 0;
  --color-error: 204 0 0;
  --color-success: 102 102 102;
  --color-warning: 204 102 0;
}

[data-theme="tritanopia"] {
  --color-bg-primary: 255 255 255;
  --color-bg-secondary: 255 255 255;
  --color-bg-tertiary: 255 255 255;
  --color-text-primary: 0 0 0;
  --color-text-secondary: 0 0 0;
  --color-text-tertiary: 0 0 0;
  --color-primary: 204 0 102;
  --color-secondary: 102 102 102;
  --color-accent: 0 153 204;
  --color-error: 204 0 0;
  --color-success: 0 153 0;
  --color-warning: 102 102 102;
}

/* High contrast data attribute support */
[data-contrast="high"] {
  .card {
    @apply border-2 border-white;
  }
  
  .btn {
    @apply border-2 border-white;
  }
  
  .input {
    @apply border-2 border-white;
  }
}

/* Print Styles */
@media print {
  .no-print {
    display: none !important;
  }
  
  body {
    @apply text-black bg-white;
  }
  
  .card {
    @apply border border-gray-300 shadow-none;
  }
}

/* Screen Reader Only Content */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* Not screen reader only, but focusable */
.sr-only:focus {
  position: static;
  width: auto;
  height: auto;
  padding: inherit;
  margin: inherit;
  overflow: visible;
  clip: auto;
  white-space: normal;
}

/* Focus visible styles */
.focus-visible {
  @apply ring-2 ring-primary-500 ring-offset-2 ring-offset-dark-900;
}

/* Skip links */
.skip-link {
  @apply sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 bg-primary-600 text-white px-4 py-2 rounded-md z-50;
}

/* High contrast mode adjustments */
@media (prefers-contrast: high) {
  .card {
    @apply border-2 border-white;
  }
  
  .btn {
    @apply border-2 border-white;
  }
  
  .input {
    @apply border-2 border-white;
  }
}

/* Reduced motion adjustments */
@media (prefers-reduced-motion: reduce) {
  .motion-reduce {
    animation: none !important;
    transition: none !important;
  }
}

/* Focus indicators for keyboard navigation */
.keyboard-navigation *:focus {
  @apply outline-2 outline-primary-500 outline-offset-2;
}

/* Touch device adjustments */
@media (hover: none) and (pointer: coarse) {
  .btn {
    @apply py-3 px-6 text-base;
  }
  
  .input {
    @apply py-3 px-4 text-base;
  }
}

/* Dark mode support for system preference */
@media (prefers-color-scheme: dark) {
  :root {
    --color-bg-primary: 15 23 42;
    --color-bg-secondary: 30 41 59;
    --color-bg-tertiary: 51 65 85;
    --color-text-primary: 241 245 249;
    --color-text-secondary: 203 213 225;
    --color-text-tertiary: 148 163 184;
  }
}

/* Light mode support for system preference */
@media (prefers-color-scheme: light) {
  :root {
    --color-bg-primary: 255 255 255;
    --color-bg-secondary: 248 250 252;
    --color-bg-tertiary: 241 245 249;
    --color-text-primary: 15 23 42;
    --color-text-secondary: 30 41 59;
    --color-text-tertiary: 51 65 85;
  }
}

/* Accessibility improvements for forms */
.form-group {
  @apply mb-4;
}

.form-label {
  @apply block text-sm font-medium text-dark-300 mb-2;
}

.form-error {
  @apply text-red-400 text-sm mt-1 flex items-center;
}

.form-hint {
  @apply text-dark-500 text-sm mt-1;
}

/* Accessible table styles */
.accessible-table {
  @apply w-full border-collapse;
}

.accessible-table th {
  @apply bg-dark-700 text-left text-xs font-medium text-dark-300 uppercase tracking-wider px-6 py-3;
}

.accessible-table td {
  @apply px-6 py-4 whitespace-nowrap text-sm text-white border-t border-dark-700;
}

/* Accessible modal styles */
.modal-overlay {
  @apply fixed inset-0 bg-black/50 z-50 flex items-center justify-center;
}

.modal-content {
  @apply bg-dark-800 rounded-xl shadow-strong border border-dark-700 max-w-lg w-full mx-4 max-h-screen overflow-y-auto;
}

.modal-header {
  @apply px-6 py-4 border-b border-dark-700;
}

.modal-body {
  @apply px-6 py-4;
}

.modal-footer {
  @apply px-6 py-4 border-t border-dark-700 flex justify-end space-x-3;
}

/* Accessible button styles */
.btn-icon {
  @apply p-2 rounded-lg transition-colors focus-ring;
}

.btn-icon:hover {
  @apply bg-dark-700;
}

.btn-icon:active {
  @apply bg-dark-600;
}

/* Accessible link styles */
.link {
  @apply text-primary-400 hover:text-primary-300 focus-ring rounded transition-colors;
}

.link-external::after {
  content: "â†—";
  @apply ml-1 text-xs;
}

/* Accessible loading states */
.loading {
  @apply relative;
}

.loading::before {
  content: "";
  @apply absolute inset-0 bg-dark-900/50 flex items-center justify-center z-10;
}

.loading-spinner {
  @apply animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500;
}

/* Accessible progress indicators */
.progress {
  @apply w-full bg-dark-700 rounded-full h-2;
}

.progress-bar {
  @apply bg-primary-600 h-2 rounded-full transition-all duration-300;
}

/* Accessible tooltips */
.tooltip {
  @apply absolute z-50 px-2 py-1 text-xs text-white bg-dark-900 rounded shadow-lg pointer-events-none;
}

.tooltip::before {
  content: "";
  @apply absolute bottom-0 left-1/2 transform -translate-x-1/2 translate-y-full border-4 border-transparent border-b-dark-900;
}
